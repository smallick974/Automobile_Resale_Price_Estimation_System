<!DOCTYPE html>
<html>
<head>
<title>Automobile</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">	
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script> 
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="{{ url_for('static',filename='script.js')}}"></script>
    <link rel="stylesheet" href="{{ url_for('static',filename='style.css')}}">
	
    <script>
        $(document).ready(function(){
            $(function(){
                $("#nav-bar").load("{{ url_for('nav')}}");
            });
            jQuery.ajax({type: "GET",
    			url:'/CarDetails',
    			dataType: 'json',
    			success: function (response){
    				var htmldata = '<div class="row">'
    				for (index =0; index < response.car_list.length;){
    					var car = response.car_list[index]
    					if(index!=0 && index%3==0){
    						htmldata = htmldata+'<div class="row">'
    					}
    					  for(i = 0;i<3;i++){
    						  if(index<response.car_list.length){
    						var car = response.car_list[index]
    						  htmldata= htmldata+'<div class="col-4">'+
	      						'<div class="card">'+
	      						"<img style='height:300px' class='card-img-top' src='/static/CarImages/"+car[4]+"'>"+
	    							'<div class="card-body">'+
	      								'<h4 class="card-title">'+car[1]+'</h4>'+
	      								'<p class="card-text">'+car[2]+'</p>'+
	      								'<p class="card-text"><b>Price: Rs. '+car[3]+'</b></p>'+
	      								'<a href="#" class="btn btn-primary">View Car</a>'+
	      								'<a href="#" class="btn btn-primary">Wishlist</a>'+
	    							'</div>'+
	  							'</div>'+
	  						'</div>'
	  							index++
	  						}
    					  }
	  	    			 htmldata = htmldata+'</div>'
	  						
    					}
    				$('#carcard').append(htmldata)
    			}
    		});
           
            
        })
    </script>
</head>
<body class="backcolor">
	<div id="nav-bar"></div>
   	<br/><br/><br/><br/>
   	<div style="margin:20px">
    	<div class="row">
    		<div class="col-9 div-style" id="carcard">
		
  			</div>
    		<div class="col div-style">
    			<label>Filter Your Search!</label>
    			<div class="row"><button class="btn btn-primary">Clear All Filters</button></div>
    			<div class="accordion accordion-flush" id="car_filters">
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_manufacturer">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#manufacturer_div" aria-expanded="false" aria-controls="manufacturer_div">
        						Manufacturer
      						</button>
    					</h2>
    					<div id="manufacturer_div" class="accordion-collapse collapse" aria-labelledby="filter_manufacturer" data-bs-parent="#car_filters">
      						<div class="accordion-body">
      							<div class=row>
      								<div class="col-sm-8"></div>
  									<div class="col-sm-4"><button class="btn btn-primary">Clear All</button></div>
      							</div>
      							{%
									for manufacturer in car_manufacturers:
								%}
									<div class="form-check">
  										<input class="form-check-input" type="checkbox" value="{{manufacturer[0]}}" id="{{manufacturer[0]}}">
  										<label class="form-check-label" for="{{manufacturer[0]}}">
    										{{manufacturer[1]}}
  										</label>
									</div>
  								{%
									endfor
								%}
      						</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_price">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#price_div" aria-expanded="false" aria-controls="price_div">
        						Price Range
      						</button>
    					</h2>
    					<div id="price_div" class="accordion-collapse collapse" aria-labelledby="filter_price" data-bs-parent="#car_filters">
      						<div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_year">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#year_div" aria-expanded="false" aria-controls="year_div">
        						Build Year
      						</button>
    					</h2>
    					<div id="year_div" class="accordion-collapse collapse" aria-labelledby="filter_year" data-bs-parent="#car_filters">
      						<div class="accordion-body">

							</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_condition">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#condition_div" aria-expanded="false" aria-controls="condition_div">
        						Car Condition
      						</button>
    					</h2>
    					<div id="condition_div" class="accordion-collapse collapse" aria-labelledby="filter_condition" data-bs-parent="#car_filters">
      						<div class="accordion-body">
      						
      						</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_cylinders">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#cylinder_div" aria-expanded="false" aria-controls="cylinder_div">
        						Cylinders
      						</button>
    					</h2>
    					<div id="cylinder_div" class="accordion-collapse collapse" aria-labelledby="filter_cylinders" data-bs-parent="#car_filters">
      						<div class="accordion-body">

							</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_fuel">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#fuel_div" aria-expanded="false" aria-controls="fuel_div">
        						Fuel Type
      						</button>
    					</h2>
    					<div id="fuel_div" class="accordion-collapse collapse" aria-labelledby="filter_fuel" data-bs-parent="#car_filters">
      						<div class="accordion-body">
      						
      						</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_drive">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#drive_div" aria-expanded="false" aria-controls="drive_div">
        						Drive Type
      						</button>
    					</h2>
    					<div id="drive_div" class="accordion-collapse collapse" aria-labelledby="filter_drive" data-bs-parent="#car_filters">
      						<div class="accordion-body">
      						
      						</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_state">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#state_div" aria-expanded="false" aria-controls="state_div">
        						State
      						</button>
    					</h2>
    					<div id="state_div" class="accordion-collapse collapse" aria-labelledby="filter_state" data-bs-parent="#car_filters">
      						<div class="accordion-body">
      						
      						</div>
    					</div>
  					</div>
  					<div class="accordion-item">
    					<h2 class="accordion-header" id="filter_size">
      						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#size_div" aria-expanded="false" aria-controls="size_div">
        						Car Size
      						</button>
    					</h2>
    					<div id="size_div" class="accordion-collapse collapse" aria-labelledby="filter_size" data-bs-parent="#car_filters">
      						<div class="accordion-body">
      						
      						</div>
    					</div>
  					</div>
				</div>
    		</div>
    	</div>
    </div>
</body>

</html>